volume	section	page	text
1	Как каналу продавать ранний заезд и поздний выезд через Partner API	1	<br>Как каналу продавать ранний заезд и поздний выезд через Partner API<br>===================================================================<br><br><br>1. Реализуйте доработку на тестовой среде <https://partner.qatl.ru/docs/booking-process/>.  <br><br><br><br>2. Самостоятельно протестируйте доработку по всем пунктам чек-листа ниже. Для пунктов 1, 2, 4 и 5 чек-листа требуется создание скриншотов, демонстрирующих успешную реализацию и работоспособность. Для пунктов 3 и 6 скриншоты не требуются.<br><br><br>3. Запишите видеоролик, показывающий процесс бронирования раннего заезда или позднего выезда. Бронирование должно соответствовать диаграмме:<br><br><br>![](https://138018.selcdn.ru/KB_images/omnideskru/10578/327312/8b7e2a359abcd7d2f28824869038febe.png)<br> <br><br><br>4. Отправьте подготовленные скриншоты и ссылку на сайт проекта, где доступно бронирование с возможностью продажи раннего заезда или позднего выезда за дополнительную плату, на электронную почту: [partner\_ota\_dynamic\_dev@travelline.ru](mailto:partner_ota_dynamic_dev@travelline.ru)<br><br><br>5. Мы проведем сертификацию в течение 5 рабочих дней. В случае нереализации или неполадок хотя бы в одном из пунктов чек-листа, потребуется дополнительная доработка.<br><br><br>6. После успешной сертификации, в течение 2 рабочих дней, мы активируем для вас функционал, позволяющий работать с правилами раннего заезда или позднего выезда на продуктовой среде.<br><br><br>7. Самостоятельно проинформируйте отели о новой возможности.<br><br><br> <br><br><br>**Чек-лист для тестирования продажи раннего заезда или позднего выезда на сайте OTA**<br><br><br>На тестовой среде у средства размещения id 8616 (PartnerAPI для сертификации РЗПВ) настроены различные правила раннего заезда или позднего выезда для настройки и тестирования интеграции<br><br><br>1. При поиске раннего заезда или позднего выезда в рамках одного объекта размещения должна отображаться полная информация: период раннего заезда или позднего выезда, стоимость, валюта.<br><br><br>2. Во время поиска должно обеспечиваться отсутствие дублирующих периодов раннего заезда или позднего выезда. На тестовой среде у тестового объекта размещения все варианты услуг уникальны.<br><br><br>Чтобы проверить корректность выдачи правил в API, отправьте запрос с поиском услуг на два взрослых и одного ребенка 5 лет.<br><br><br>Запрос:<br><br><br>![](https://138018.selcdn.ru/KB_images/omnideskru/10578/327312/fc6755e86ca34bbc9bc0f57b9bd7c941.png)<br> <br><br><br><br><br>| Response в API | Возможное отображение ответа API в канале |<br>| --- | --- |<br>|  |  |<br><br><br> <br><br><br>3. Перед шагом оплаты необходимо вызвать метод /bookings/verify. В ответе на этот запрос, значение checksum изменится из-за включения раннего заезда или позднего выезда в бронь. После осуществления оплаты нужно вызвать метод создания бронирования, где проводится проверка корректности checksum.  <br><br><br><br>4. Информация об обновленной стоимости бронирования должна быть представлена гостю на стороне канала продаж перед шагом оплаты, если в бронь были добавлены правила раннего заезда или позднего выезда.<br><br><br>5. Должна быть предусмотрена возможность отмены бронирования. При отмене активируется метод calculate-cancellation-penalty, который корректно отображает условия отмены на текущую дату, включая стоимость раннего заезда или позднего выезда, входящих в предоплату.<br><br><br>6. Необходимо обеспечить корректную передачу данных в API, которые указываются при формировании запроса на создание бронирования.<br><br>
